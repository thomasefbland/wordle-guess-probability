import{u as _,b as a,d as g,e as v,g as l,h as i,i as m,j as h,k,l as x,m as y,n as b,o as j}from"./runtime.BdlKBIdT.js";import{s as w}from"./index.C1H4AoDf.js";function A(s=!1){const e=g,n=e.l.u;if(!n)return;let t=()=>h(e.s);if(s){let u=0,r={};const d=k(()=>{let c=!1;const f=e.s;for(const o in f)f[o]!==r[o]&&(r[o]=f[o],c=!0);return c&&u++,u});t=()=>i(d)}n.b.length&&_(()=>{p(e,t),l(n.b)}),a(()=>{const u=v(()=>n.m.map(m));return()=>{for(const r of u)typeof r=="function"&&r()}}),n.a.length&&a(()=>{p(e,t),l(n.a)})}function p(s,e){if(s.l.s)for(const n of s.l.s)i(n);e()}function B(s,e,n){const t=n[e]??(n[e]={store:null,source:y(void 0),unsubscribe:b});if(t.store!==s)if(t.unsubscribe(),t.store=s??null,s==null)t.source.v=void 0,t.unsubscribe=b;else{var u=!0;t.unsubscribe=w(s,r=>{u?t.source.v=r:j(t.source,r)}),u=!1}return i(t.source)}function C(s,e){return s.set(e),e}function D(){const s={};return x(()=>{for(var e in s)s[e].unsubscribe()}),s}export{B as a,C as b,A as i,D as s};
